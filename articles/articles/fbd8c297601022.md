---
title: "webpack-dev-serverã‹ã‚‰contentBaseãŒæ¶ˆãˆã¦ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹"
emoji: "ğŸ˜§"
type: "tech"
topics: ["webpack", "åˆå¿ƒè€…"]
published: true
---

å¹´æœ«ã«webpackã®å‹‰å¼·ã‚’ã—ã¦ã„ã¦webpack-dev-serverã‚’ä½¿ç”¨ã—ã‚ˆã†ã¨ã—ãŸã¨ã“ã‚ã€ã‚¨ãƒ©ãƒ¼ã«ã¶ã¡å½“ãŸã£ãŸã®ã§ã€ãã®æ™‚ã®å¯¾å‡¦ã‚’å‚™å¿˜ã¨ã—ã¦(ã¾ãŸå¿˜ã‚Œã¦ã‚„ã‚‰ã‹ã—ãã†ãªã®ã§)æ®‹ã—ã¦ãŠãã¾ã™ã€‚

# ã‚¨ãƒ©ãƒ¼
ã¾ãšã€ã‚¨ãƒ©ãƒ¼ã«ãªã£ãŸè¨˜è¿°ãŒã“ã¡ã‚‰ã€‚
```js:webpack.config.js
module.exports = {
  ã€œçœç•¥ã€œ
  // devServerè¨­å®š
  devServer: {
    contentBase: path.resolve(__dirname, 'dist'),
  }
};
```
### ã‚¨ãƒ©ãƒ¼æ–‡
```
$ webpack serve
[webpack-cli] Invalid options object. Dev Server has been initialized using an options object that does not match the API schema.
 - options has an unknown property 'contentBase'. These properties are valid:
   object { allowedHosts?, bonjour?, client?, compress?, devMiddleware?, headers?, historyApiFallback?, host?, hot?, http2?, https?, ipc?, liveReload?, magicHtml?, onAfterSetupMiddleware?, onBeforeSetupMiddleware?, onListening?, open?, port?, proxy?, server?, setupExitSignals?, setupMiddlewares?, static?, watchFiles?, webSocketServer? }
```
`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ä¸æ˜ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ 'contentBase' ãŒã‚ã‚Šã¾ã™ã€‚`ã£ã¦æ€’ã‚‰ã‚Œã¦ã¾ã™ã­ã€‚
ãªã®ã§ã€ã©ã†ã‚„ã‚‰`contentBase`ã¯ä½¿ãˆãªã„ã‚‰ã—ã„ã€‚ã€‚

# åŸå› 
DevServerã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’v3ã®æ§‹æˆã§è¨˜è¿°ã—ã¦ã„ãŸã“ã¨ãŒåŸå› ã§ã—ãŸã€‚
v4ã‹ã‚‰ã¯contentBaseã‹ã‚‰staticã«å¤‰æ›´ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚

ã¾ãŸã€`contentBase`ä»¥å¤–ã«ã‚‚ã€ä»¥ä¸‹ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒ`static{}`é…ä¸‹ã«ç§»å‹•ã•ã‚Œã¦ã„ã¾ã™ã€‚
- contentBase
- contentBasePublicPath
- serveIndex
- watchContentBase
- watchOptions
- staticOptions
> contentBase/contentBasePublicPath/serveIndex/watchContentBase/watchOptions/staticOptionsÂ options were moved toÂ staticÂ option:

# å¯¾å‡¦æ³•
å…¬å¼ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã‚ã‚‹[migration-v4](https://github.com/webpack/webpack-dev-server/blob/master/migration-v4.md)ã«ã‚ˆã‚‹ã¨ã€å‰è¿°ã—ãŸã‚ˆã†ã«`contentBase`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯v4ã§ã¯`static{}`é…ä¸‹ã®`directory`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«å¤‰æ›´ã•ã‚Œã¦ã„ã¾ã™ã€‚
ãã®ãŸã‚ã€ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã™ã‚‹ã“ã¨ã§ã‚¨ãƒ©ãƒ¼ã‚’å›é¿ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
```js:webpack.config.js
module.exports = {
  ã€œçœç•¥ã€œ
  // devServerè¨­å®š
  devServer: {
    static: {
      directory: path.resolve(__dirname, 'dist'),
    },
  }
};
```

# å‚è€ƒ
https://webpack.js.org/configuration/dev-server/
https://github.com/webpack/webpack-dev-server/blob/master/migration-v4.md
https://qiita.com/chocomint_t/items/4bc57945bce081922582
